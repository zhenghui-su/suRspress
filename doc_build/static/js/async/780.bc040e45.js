/*! For license information please see 780.bc040e45.js.LICENSE.txt */
(self.webpackChunksurspress=self.webpackChunksurspress||[]).push([["780"],{34564:function(s,e,n){"use strict";n.r(e);var l=n("11527"),r=n("65788");function i(s){let e=Object.assign({h2:"h2",a:"a",p:"p",h3:"h3",code:"code",ol:"ol",li:"li",h4:"h4",pre:"pre",span:"span",strong:"strong",blockquote:"blockquote",img:"img"},(0,r.ah)(),s.components);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(e.h2,{id:"14-child_process-\u5B50\u8FDB\u7A0B-\u6838\u5FC3-api",children:[(0,l.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#14-child_process-\u5B50\u8FDB\u7A0B-\u6838\u5FC3-api",children:"#"}),"14-child_process \u5B50\u8FDB\u7A0B \u6838\u5FC3 API"]}),"\n",(0,l.jsx)(e.p,{children:"\u5B50\u8FDB\u7A0B\u662F Nodejs \u6838\u5FC3 API\uFF0C\u5982\u679C\u4F60\u4F1A shell \u547D\u4EE4\uFF0C\u4ED6\u4F1A\u6709\u975E\u5E38\u5927\u7684\u5E2E\u52A9\uFF0C\u6216\u8005\u4F60\u559C\u6B22\u7F16\u5199\u524D\u7AEF\u5DE5\u7A0B\u5316\u5DE5\u5177\u4E4B\u7C7B\u7684\uFF0C\u4ED6\u4E5F\u6709\u5F88\u5927\u7684\u7528\u5904\uFF0C\u4EE5\u53CA\u5904\u7406 CPU \u5BC6\u96C6\u578B\u5E94\u7528\u3002"}),"\n",(0,l.jsxs)(e.h3,{id:"\u521B\u5EFA\u5B50\u8FDB\u7A0B",children:[(0,l.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u521B\u5EFA\u5B50\u8FDB\u7A0B",children:"#"}),"\u521B\u5EFA\u5B50\u8FDB\u7A0B"]}),"\n",(0,l.jsxs)(e.p,{children:["Nodejs \u521B\u5EFA\u5B50\u8FDB\u7A0B\u5171\u6709",(0,l.jsx)(e.code,{children:"7\u4E2A"}),"API Sync \u540C\u6B65 API \u4E0D\u52A0\u662F\u5F02\u6B65 API"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"exec"})," \u6267\u884C\u547D\u4EE4(\u5F02\u6B65\u6267\u884C)"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"execSync"})," \u6267\u884C\u547D\u4EE4(\u540C\u6B65\u6267\u884C)"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"execFile"})," \u6267\u884C\u53EF\u6267\u884C\u6587\u4EF6(\u5F02\u6B65\u6267\u884C)"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"execFileSync"})," \u6267\u884C\u53EF\u6267\u884C\u6587\u4EF6(\u540C\u6B65\u6267\u884C)"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"spawn"})," \u6267\u884C\u547D\u4EE4(\u5F02\u6B65\u6267\u884C)"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"spawnSync"})," \u6267\u884C\u547D\u4EE4(\u540C\u6B65\u6267\u884C)"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"fork"})," \u521B\u5EFA node \u5B50\u8FDB\u7A0B"]}),"\n"]}),"\n",(0,l.jsxs)(e.h3,{id:"api-\u793A\u4F8B",children:[(0,l.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#api-\u793A\u4F8B",children:"#"}),"API \u793A\u4F8B"]}),"\n",(0,l.jsxs)(e.h4,{id:"exec-\u65B9\u6CD5",children:[(0,l.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#exec-\u65B9\u6CD5",children:"#"}),"exec \u65B9\u6CD5"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"exec"}),"\u9002\u5408\u6267\u884C\u8F83\u5C0F\u7684 shell \u547D\u4EE4\uFF0C\u6709\u5B57\u8282\u4E0A\u9650\uFF1A200kb"]}),"\n",(0,l.jsx)(e.pre,{className:"code",children:(0,l.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-bash",meta:"",children:[(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"child_process.exec(command,"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" [options], callback)"})]}),"\n"]})})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"exec"}),"\u83B7\u53D6 nodejs \u7248\u672C\u53F7"]}),"\n",(0,l.jsx)(e.pre,{className:"code",children:(0,l.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-js",meta:"",children:[(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"exec"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'node -v'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" (err"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" stdout"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" stderr) "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" (err) {"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" err;"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"console"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"stdout"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".toString"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"());"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"});"})}),"\n"]})})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"options"}),"\u914D\u7F6E\u9879"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["cwd "," \u5B50\u8FDB\u7A0B\u7684\u5F53\u524D\u5DE5\u4F5C\u76EE\u5F55\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:["env "," \u73AF\u5883\u53D8\u91CF\u952E\u503C\u5BF9\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:["encoding "," \u9ED8\u8BA4\u4E3A 'utf8'\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:["shell "," \u7528\u4E8E\u6267\u884C\u547D\u4EE4\u7684 shell\u3002 \u5728 UNIX \u4E0A\u9ED8\u8BA4\u4E3A '/bin/bash'\uFF0C\u5728 Windows \u4E0A\u9ED8\u8BA4\u4E3A process.env.ComSpec\u3002 \u8BE6\u89C1 Shell Requirements \u4E0E Default Windows Shell\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:["timeout "," \u9ED8\u8BA4\u4E3A 0\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:["maxBuffer "," stdout \u6216 stderr \u5141\u8BB8\u7684\u6700\u5927\u5B57\u8282\u6570\u3002 \u9ED8\u8BA4\u4E3A 200*1024\u3002 \u5982\u679C\u8D85\u8FC7\u9650\u5236\uFF0C\u5219\u5B50\u8FDB\u7A0B\u4F1A\u88AB\u7EC8\u6B62\u3002 \u67E5\u770B\u8B66\u544A\uFF1A maxBuffer and Unicode\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:["killSignal "," | "," \u9ED8\u8BA4\u4E3A 'SIGTERM'\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:["uid "," \u8BBE\u7F6E\u8BE5\u8FDB\u7A0B\u7684\u7528\u6237\u6807\u8BC6\u3002\uFF08\u8BE6\u89C1 setuid(2)\uFF09"]}),"\n",(0,l.jsxs)(e.li,{children:["gid "," \u8BBE\u7F6E\u8BE5\u8FDB\u7A0B\u7684\u7EC4\u6807\u8BC6\u3002\uFF08\u8BE6\u89C1 setgid(2)\uFF09"]}),"\n"]}),"\n",(0,l.jsxs)(e.h4,{id:"execsync-\u65B9\u6CD5",children:[(0,l.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#execsync-\u65B9\u6CD5",children:"#"}),"execSync \u65B9\u6CD5"]}),"\n",(0,l.jsxs)(e.p,{children:["\u83B7\u53D6 node \u7248\u672C\u53F7 \u5982\u679C\u8981\u6267\u884C\u5355\u6B21",(0,l.jsx)(e.code,{children:"shell"}),"\u547D\u4EE4\uFF0C",(0,l.jsx)(e.code,{children:"execSync"}),"\u65B9\u4FBF\u4E00\u4E9B\uFF0C",(0,l.jsx)(e.code,{children:"options"}),"\u540C\u4E0A"]}),"\n",(0,l.jsx)(e.pre,{className:"code",children:(0,l.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-js",meta:"",children:[(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"nodeVersion"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"execSync"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'node -v'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"console"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"nodeVersion"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".toString"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'utf-8'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"));"})]}),"\n"]})})}),"\n",(0,l.jsxs)(e.p,{children:["\u6253\u5F00\u8C37\u6B4C\u6D4F\u89C8\u5668 \u4F7F\u7528 exec \u53EF\u4EE5\u6253\u5F00\u4E00\u4E9B\u8F6F\u4EF6\u4F8B\u5982 wx \u8C37\u6B4C qq \u97F3\u4E50\u7B49 \u4EE5\u4E0B\u4F1A\u6253\u5F00\u767E\u5EA6\u5E76\u4E14\u8FDB\u5165",(0,l.jsx)(e.code,{children:"\u65E0\u75D5\u6A21\u5F0F"})]}),"\n",(0,l.jsx)(e.pre,{className:"code",children:(0,l.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-js",meta:"",children:[(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"execSync"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'start chrome http://www.baidu.com --incognito'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n"]})})}),"\n",(0,l.jsxs)(e.h4,{id:"execfile-\u65B9\u6CD5",children:[(0,l.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#execfile-\u65B9\u6CD5",children:"#"}),"execFile \u65B9\u6CD5"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"execFile"}),"\u9002\u5408\u6267\u884C",(0,l.jsx)(e.strong,{children:"\u53EF\u6267\u884C\u6587\u4EF6"}),"\uFF0C\u4F8B\u5982\u6267\u884C\u4E00\u4E2A node \u811A\u672C\uFF0C\u6216\u8005 shell \u6587\u4EF6"]}),"\n",(0,l.jsx)(e.p,{children:"windows \u53EF\u4EE5\u7F16\u5199 cmd \u811A\u672C\uFF0Cposix \u53EF\u4EE5\u7F16\u5199 bash \u811A\u672C"}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"\u7B80\u5355\u793A\u4F8B"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["\u65B0\u5EFA\u6587\u4EF6",(0,l.jsx)(e.code,{children:"bat.cmd"}),"\u5199\u5165\u4EE5\u4E0B\u4EE3\u7801\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u521B\u5EFA\u4E00\u4E2A\u6587\u4EF6\u5939 mkdir\uFF0C\u8FDB\u5165\u76EE\u5F55\uFF0C\u5199\u5165\u4E00\u4E2A\u6587\u4EF6 test.js\uFF0C\u6700\u540E\u6267\u884C\u3002"}),"\n",(0,l.jsx)(e.pre,{className:"code",children:(0,l.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-cmd",meta:"",children:[(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"echo "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"'\u5F00\u59CB'"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"mkdir test"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"cd ./test"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"echo console."}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"log"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"test1232131"'}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:") "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:">"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"test.js"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"echo "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"'\u7ED3\u675F'"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"node test.js"})}),"\n"]})})}),"\n",(0,l.jsxs)(e.p,{children:["\u4F7F\u7528",(0,l.jsx)(e.code,{children:"execFile"}),"\u6267\u884C\u8FD9\u4E2A"]}),"\n",(0,l.jsx)(e.pre,{className:"code",children:(0,l.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-js",meta:"",children:[(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"execFile"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"path"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".resolve"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"process"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".cwd"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"()"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'./bat.cmd'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"null"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" (err"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" stdout) "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"console"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"stdout"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".toString"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"());"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"});"})}),"\n"]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"https://chen-1320883525.cos.ap-chengdu.myqcloud.com/img/image-20231027195332172.png",alt:"image-20231027195332172"})}),"\n",(0,l.jsxs)(e.h4,{id:"spawn-\u65B9\u6CD5\u5F02\u6B65\u7528\u7684\u591A",children:[(0,l.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#spawn-\u65B9\u6CD5\u5F02\u6B65\u7528\u7684\u591A",children:"#"}),"spawn \u65B9\u6CD5(\u5F02\u6B65\u7528\u7684\u591A)"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"spawn"}),"\u7528\u4E8E\u6267\u884C\u4E00\u4E9B\u5B9E\u65F6\u83B7\u53D6\u7684\u4FE1\u606F\uFF0C\u56E0\u4E3A spawn \u8FD4\u56DE\u7684\u662F\u6D41\u8FB9\u6267\u884C\u8FB9\u8FD4\u56DE"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"exec"}),"\u662F\u8FD4\u56DE\u4E00\u4E2A\u5B8C\u6574\u7684 buffer\uFF0Cbuffer \u7684\u5927\u5C0F\u662F",(0,l.jsx)(e.strong,{children:"200k"}),"\uFF0C\u5982\u679C",(0,l.jsx)(e.strong,{children:"\u8D85\u51FA"}),"\u4F1A\u62A5\u9519\uFF0C\u800C",(0,l.jsx)(e.code,{children:"spawn"}),"\u662F\u65E0\u4E0A\u9650\u7684\u3002"]}),"\n",(0,l.jsx)(e.pre,{className:"code",children:(0,l.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-js",meta:"",children:[(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"//                       \u547D\u4EE4      \u53C2\u6570  options\u914D\u7F6E\u548C\u4E0A\u9762\u4E00\u6837"})}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" { "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"stdout"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" } "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"spawn"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'netstat'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" ["}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'-an'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"]"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" {});"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"//\u8FD4\u56DE\u7684\u6570\u636E\u7528data\u4E8B\u4EF6\u63A5\u53D7"})}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"stdout"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".on"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'data'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" (steram) "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"console"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"steram"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".toString"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"());"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"});"})}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"stdout"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".on"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'close'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" (msg) "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"console"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'\u7ED3\u675F\u4E86'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"});"})}),"\n"]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"https://chen-1320883525.cos.ap-chengdu.myqcloud.com/img/image-20231027195540243.png",alt:"image-20231027195540243"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"exec -> execFile -> spawn"}),"\n",(0,l.jsx)(e.p,{children:"exec \u662F\u5E95\u5C42\u901A\u8FC7 execFile \u5B9E\u73B0\uFF0CexecFile \u5E95\u5C42\u901A\u8FC7 spawn \u5B9E\u73B0"}),"\n"]}),"\n",(0,l.jsxs)(e.h4,{id:"fork",children:[(0,l.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#fork",children:"#"}),"fork"]}),"\n",(0,l.jsx)(e.p,{children:"\u573A\u666F\u9002\u5408\u5927\u91CF\u7684\u8BA1\u7B97\uFF0C\u6216\u8005\u5BB9\u6613\u963B\u585E\u4E3B\u8FDB\u7A0B\u64CD\u4F5C\u7684\u4E00\u4E9B\u4EE3\u7801\uFF0C\u5C31\u9002\u5408\u5F00\u53D1 fork"}),"\n",(0,l.jsxs)(e.p,{children:["\u65B0\u5EFA",(0,l.jsx)(e.code,{children:"index.js"}),"\u6587\u4EF6\uFF0C\u5199\u5165\u4EE5\u4E0B"]}),"\n",(0,l.jsx)(e.pre,{className:"code",children:(0,l.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-js",meta:"",children:[(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" { "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"fork"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" } "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"require"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'child_process'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"testProcess"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"fork"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'./test.js'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"testProcess"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".send"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'\u6211\u662F\u4E3B\u8FDB\u7A0B'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"testProcess"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".on"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'message'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" (data) "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"console"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'\u6211\u662F\u4E3B\u8FDB\u7A0B\u63A5\u53D7\u6D88\u606F111\uFF1A'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" data);"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"});"})}),"\n"]})})}),"\n",(0,l.jsxs)(e.p,{children:["\u65B0\u5EFA",(0,l.jsx)(e.code,{children:"test.js"}),"\u6587\u4EF6\uFF0C\u5199\u5165\u4EE5\u4E0B"]}),"\n",(0,l.jsx)(e.pre,{className:"code",children:(0,l.jsx)(e.pre,{className:"shiki css-variables has-line-number",style:{backgroundColor:"var(--shiki-color-background)"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-js",meta:"",children:[(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"process"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".on"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'message'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" (data) "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"console"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'\u5B50\u8FDB\u7A0B\u63A5\u53D7\u6D88\u606F\uFF1A'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" data);"})]}),"\n",(0,l.jsx)(e.span,{className:"line line-number",children:(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"});"})}),"\n",(0,l.jsx)(e.span,{className:"line line-number"}),"\n",(0,l.jsxs)(e.span,{className:"line line-number",children:[(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"process"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".send"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'\u6211\u662F\u5B50\u8FDB\u7A0B'"}),(0,l.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n"]})})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"send \u53D1\u9001\u4FE1\u606F \uFF0Cmessage \u63A5\u6536\u6D88\u606F\uFF0C\u53EF\u4EE5\u76F8\u4E92\u53D1\u9001\u63A5\u6536\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"fork \u5E95\u5C42\u4F7F\u7528\u7684\u662F IPC \u901A\u9053\u8FDB\u884C\u901A\u8BAF\u7684\uFF0CIPC \u57FA\u4E8E libuv \u5B9E\u73B0"}),"\n",(0,l.jsx)(e.p,{children:"\u6839\u636E\u4E0D\u540C\u64CD\u4F5C\u7CFB\u7EDF\u8C03\u7528\u4E0D\u540C\u7684 API"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{src:"https://chen-1320883525.cos.ap-chengdu.myqcloud.com/img/image-20231027195659901.png",alt:"image-20231027195659901"})})]})}function o(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,r.ah)(),s.components);return e?(0,l.jsx)(e,Object.assign({},s,{children:(0,l.jsx)(i,s)})):i(s)}e.default=o,o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["guide%2Fnode%2F14-child_process%20%E5%AD%90%E8%BF%9B%E7%A8%8B%20%E6%A0%B8%E5%BF%83API.md"]={toc:[{id:"14-child_process-\u5B50\u8FDB\u7A0B-\u6838\u5FC3-api",text:"14-child_process \u5B50\u8FDB\u7A0B \u6838\u5FC3 API",depth:2},{id:"\u521B\u5EFA\u5B50\u8FDB\u7A0B",text:"\u521B\u5EFA\u5B50\u8FDB\u7A0B",depth:3},{id:"api-\u793A\u4F8B",text:"API \u793A\u4F8B",depth:3},{id:"exec-\u65B9\u6CD5",text:"exec \u65B9\u6CD5",depth:4},{id:"execsync-\u65B9\u6CD5",text:"execSync \u65B9\u6CD5",depth:4},{id:"execfile-\u65B9\u6CD5",text:"execFile \u65B9\u6CD5",depth:4},{id:"spawn-\u65B9\u6CD5\u5F02\u6B65\u7528\u7684\u591A",text:"spawn \u65B9\u6CD5(\u5F02\u6B65\u7528\u7684\u591A)",depth:4},{id:"fork",text:"fork",depth:4}],title:"",frontmatter:{}}}}]);