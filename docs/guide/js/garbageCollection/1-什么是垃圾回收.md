# 什么是垃圾回收

本章我们需要学习 Javascript 中的垃圾回收机制，首先需要理解一下什么是垃圾回收

我们先看下面的代码：

```js
let test = { name: "su" }
test = [1, 2, 3]
```

我们先声明了一个`test`对象，然后将数组`[1, 2, 3]`赋值给`test`变量。

那么它们的存储形式是怎样呢？先看`test`对象，它存储真实对象的地址在栈，真实对象在堆内存中

![image-20240821175533985](https://chen-1320883525.cos.ap-chengdu.myqcloud.com/img/image-20240821175533985.png)

然后我们又将一个数组赋值给`test`，这个数组就会在堆中开辟一块新内存，`test`指向它：

![image-20240821175739400](https://chen-1320883525.cos.ap-chengdu.myqcloud.com/img/image-20240821175739400.png)

那么`test`就不再指向堆内存中的`{name:"su"}`对象，此时该对象是无用的，为什么说是无用呢？因为`test`现在指向数组，没有变量存储这个对象的地址，因此我们现在无法再访问到它。

但是这个对象现在还占据着一部分内存空间，却又无用，所以它就被叫做垃圾，需要被回收内存。

通过这个例子，我们就理解了什么是垃圾，在什么情况下需要被回收。
