# 自增运算符和函数 length

本节我们来看自增运算符和函数 length 的相关知识。

## 自增运算符++

虽然自增运算符是很基础的概念，但如果情况复杂一些就很容易混淆，比如下面的例子：

```js
let i = 1
console.log(i++ + ++i)
console.log(i++ + ++i * ++i)
```

单独看到的时候，可能很容易绕不出，我们可以先理解自增运算符`++`的两个作用：

- 改变变量的值
- 返回表达式的值

而这两个作用的先后，又是通过`++`运算符放在变量前后决定的：

- `++i`首先会增加 i 的值，然后**返回修改后的值**
- `i++`首先**返回当前的 i 值**，然后增加 i 的值

因此上面的运算我们就可以拆分了，注意自增运算符的优先级比四则运算高：

- `i++ + ++i`：前面的`i++`首先返回 1 然后将 i 变为 2，后面的`++i`，此时 i 为 2，先增加变成 3，然后返回，因此这个表达式就变为了`1 + 3`，输出 4
- `i++ + ++i * ++i`：前面的`i++`首先返回 1 然后将 i 变为 2，后面的第一个`++i`，此时 i 为 2，先增加变为 3，然后返回，第二个`++i`，此时 i 为 3，先增加变为 4，然后返回，因此这个表达式最终就变为了`1 + 3 * 4`，然后根据运算，输出结果为 13

我们只需记得上面的知识点，在遇到任何这种复杂情况的时候，都可以拆分，迎刃而解。

## 函数的 length 属性

没想到吧，函数也是有 length 属性的，它代表函数参数的个数，不过具体点说如下：

- 它只计算第一个**有默认值参数**之前的普通参数个数
- 它不计算剩余参数

这两个啥意思呢？我们看一下代码就明白了：

```js
function fn1(a) {}
function fn2(b = "1", a) {}
function fn3(a, b = "1") {}
function fn4(a, ...args) {}
console.log(fn1.length)
console.log(fn2.length)
console.log(fn3.length)
console.log(fn4.length)
```

我们来一个个看结果：

- 第一个输出 1 ，因为只有一个 a 参数
- 第二个输出 0，因为它只计算第一个有默认值参数之前的参数个数，`b`参数有默认值，但它是第一个，前面没有普通参数，因此输出 0
- 第三个输出 1，和上面一样，只计算`b`参数之前的参数个数，它之前有一个`a`参数，因此输出 1
- 第四个输出 1，因为它不计算剩余参数即`...args`，不管剩余参数有几个，它只计算`a`，因此输出 1

这块计算不是我瞎说的，MDN 官方文档也是有说的，感兴趣的可以自己查看。

我们只需记住函数 length 计算的本质，遇到各个复杂情况也能解决。
