## CDN

Content Delivery Network 内容分发网络

CDN是用来优化网络资源请求的时间的



### 网站上线

网站上线必须有一台服务器，这个服务器上面存放前端资源，然后搞一个域名，通过DNS将域名解析我们服务器的IP（127.xx.xx.xx）

找服务器如下

就近的服务器是可以缓存数据的，如果源服务器出现什么状况，可以保证数据不会崩掉，做异地灾备等措施

![image-20231006142555430](https://chen-1320883525.cos.ap-chengdu.myqcloud.com/img/image-20231006142555430.png)

### CDN：工作过程

浏览器在输入url后，第一回合需要进行DNS解析，如果配置了CDN，DNS会将最终的域名解析权交给CNAME（别名指向）指向的CDN专用DNS服务器

![image-20231006143113626](https://chen-1320883525.cos.ap-chengdu.myqcloud.com/img/image-20231006143113626.png)

### CDN：负载均衡

在CDN中，**负载均衡又分为服务器负载均衡和服务器整体负载均衡(也有的称为服务器全局负载均衡)**。

服务器负载均衡是指能够在性能不同的服务器之间进行任务分配，既能保证性能差的服务器不成为系统的瓶颈，又能保证性能高的服务器的资源得到充分利用。而服务器整体负载均衡允许Web网络托管商、门户站点和企业根据地理位置分配内容和服务。

通过使用多站点内容和服务来提高容错性和可用性，防止因本地网或区域网络中断、断电或自然灾害而导致的故障。在CDN的方案中服务器整体负载均衡将发挥重要作用，其性能高低将直接影响整个CDN的性能。

![image-20231006143256758](https://chen-1320883525.cos.ap-chengdu.myqcloud.com/img/image-20231006143256758.png)